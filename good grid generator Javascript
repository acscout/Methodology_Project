var canvas = document.querySelector('canvas');
// obviously we can change the canvas size as we like
canvas.width = window.innerWidth/2;
canvas.height = canvas.width;

var mouse = { x: undefined,
							y: undefined};

var n_blocks = 15; // n_blocks refers to the number of blocks per side


// draw 10*10 grid
drawGrid(n_blocks);
             
// click event
canvas.addEventListener('click', clickGrid, false);


// clicks on appropiate block within the grid
function clickGrid(event){
  mouse.x = event.x;
	mouse.y = event.y;
  var c = canvas.getContext('2d');
  var block_length = canvas.width/n_blocks;
  var block_x = Math.floor(mouse.x/block_length);
  var block_y = Math.floor(mouse.y/block_length);
  
	fillBlock(block_x, block_y, block_length);
}

function fillBlock(block_x, block_y, block_length){
  var c = canvas.getContext('2d');
  // check if the block has been clicked, and either reset or click on block (update array)
	c.fillStyle = "black";
  c.fillRect(block_x*block_length, block_y*block_length, block_length, block_length);
}

// draws n_blocks * n_blocks grid
function drawGrid(n_blocks) {
	var c = canvas.getContext('2d');
	var block_length = canvas.width/n_blocks;
  
	for(xBlock = 0; xBlock < n_blocks; xBlock++){
  	for(yBlock = 0; yBlock < n_blocks; yBlock++){
  		c.rect(xBlock*block_length, yBlock*block_length, block_length, block_length);
    	c.stroke();
      c.fillStyle = "rgba(192, 225, 235, 1)";
      c.fillRect(xBlock*block_length, yBlock*block_length, block_length, block_length);
    }
  }
}
